---
title: "입출력과 네트워킹"
date: 2025-04-06 16:09:00 +/-TTTT
categories: [Book, 한 권으로 읽는 컴퓨터 구조와 프로그래밍]
tags: [CS]
math: true
toc: true
# pin: true
---
# 개요
컴퓨터는 여러 근원에서 입력을 받고, 계산을 수행하고, 다양한 장치를 통해 출력을 만들어내는데, 이때 입출력에 필요한 것은 입력을 위한 트라이스테이트 버퍼와 출력을 위한 래치다. 프로그래밍 관점에서 I/O 장치와 상호작용하는 기술과 아날로그와 디지털을 전환할 수 있는 샘플링에 대해 알아보자.  
  
## 저수준 I/O
- 비트에 물건을 연결한 형태의 I/O
- 6-1의 그림에서 LED는 전류가 올바른 방향으로 흐를 수 있게 해준다.
- 올바른 방향이란 양긍에서 음극으로 흐르는 것을 말한다.
- 방향이 올바를 때만 LED는 빛을 낸다.
- LED와 저항이 직렬로 연결되어 있어, PB0이 1인 경우에만 전류가 흘러 빛을 낸다.
- 포트 B는 DDRB, PORTB, PINB 세 가지 레지스터에 의해 제어된다.
- DDR : 데이터 방향 레지스터로 각 핀을 입력 또는 출력 중 어떤 것으로 사용할지 결정한다.
- PORT : 출력 데이터를 저장하는 래치다. DDR가 출력이면 핀의 전압 레벨을 제어하고, 입력이면 풀업 저항을 활성화 혹은 비활성화 한다.
- PIN : 핀의 값을 읽는 장치다.
- 즉, DDRB의 특정 비트에 0 혹은 1을 넣으면, 해당 번호에 해당하는 포트 B 비트가 입력 혹은 출력에 사용된다.
- 비트가 8개 있을 때, PORTB의 0번과 7번을 하이로 끌어올리고 나머지를 로우로 내리면 PINB의 값은 10000001이 된다.
  
### 버튼
- 버튼을 누르면 누른 순간에 전압이 내려가고, 떼면 올라간다고 생각할 수 있지만 아니다.
- 버튼의 금속 조각이 접점에 닿으면서 아주 잠깐 바운스되는게 안정화될 때까지 반복된다.
- 그래서 버튼 한 번에 여러 번의 인터럽트가 발생할 수 있어 이를 디바운스 되게 해야한다.
- 이를 안정화에 걸리는 시간을 생각해 타이머를 설정하고 시간이 지난 뒤 버튼 상태를 감지하는 것으로 해결할 수도 있다.
- 하지만 기계 부품의 노후화에 따라 바운스 시간이 달라져 타이머값을 정하기 애매하다.
- 그래서 대부분의 시스템에는 주기적인 인터럽트를 만들어내는 타이머가 존재한다.

### 빛
- 가장 흔한 디스플레이 장치는 7세그먼트 디스플레이다.
- 7개의 LED가 숫자 8형태로 나열되어 있고, 소수점 표현용 LED가 하나 붙어있다.
- 원래는 8개의 LED를 처리하기 위해 16개의 핀이 필요하지만, 각 LED에 핀을 하나씩 연결하고, 핀 하나에 모든 LED를 연결해 껏다 킬 수 있다.