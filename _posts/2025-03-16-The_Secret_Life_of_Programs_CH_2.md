---
title: "[한 권으로 읽는 컴퓨터 구조와 프로그래밍] 전자 회로의 조합 논리"
date: 2025-03-16 16:24:00 +/-TTTT
categories: [Book, 한 권으로 읽는 컴퓨터 구조와 프로그래밍]
tags: [CS]
math: true
toc: true
# pin: true
---
# 디지털 컴퓨터의 사례
기계적인 계산 장치 : 톱니바퀴, 안티키테라, 화기 제어 컴퓨터  
톱니바퀴를 사용하지 않는 기계식 컴퓨터 : 계산자  
  
> **계산자**  
> 고정된 x의 로그 눈금과 움직이는 y로그 눈금의 기준선을 맞춰 두 수의 곱을 계산할 수 있다.  
> 요즘도 비행 컴퓨터라고 부르는 동그란 계산자를 사용하기도 한다.  
  
역사적으로 계산 장치의 주된 용도는 숫자를 세는 것이었는데, 기원전 18,000년 전부터  
탤리 막대라는 것을 사용하기도 했고, 근대에는 차분 기관이라는 복잡한 10진 기계식 계산기 등이 등장했다.  
  
## 아날로그와 디지털의 차이
계산자는 수학적으로 연속적이기 때문에 `1.1`과 같은 수를 쉽게 표현할 수 있지만,  
손가락은 하나하나 다른 존재로 구분되는 이산적인 성질을 가져 정수만 표현할 수 있다.  
  
전자기술에 대해 이야기할 때 아날로그는 연속적인 것을 뜻하고, 디지털은 이산적인 것을 뜻한다.
(라탄어로 손가락이 digitus라고 한다! 디지털의 어원...)  
  
아날로그는 실수를 표현할 수 있기에 계산에는 더 적합할 수도 있지만, 정밀도의 문제가 있다.  
계산자의 크기를 더 크게 만들면 정밀도를 올릴 수 있겠지만 너무 큰 계산자는 불편할 뿐이다.  
  
## 하드웨어에서 크기가 중요한 이유
오늘날 컴퓨터 클록 속도는 4GHz고, 이는 1초에 40억 가지 계산을 처리할 수 있고,  
40억 분의 1초 동안 전자가 이동할 수 있는 거리는 75밀리미터다.  
  
CPU의 한 면이 18밀리미터면 전자는 40억 분의 1초 동안 2번 왕복할 수 있다.  
만약에 CPU가 더 작다면 더 많이 왕복할 수 있을 것이다.  
  
즉, 왕복을 더 많이 할 수 있게 하려면 전자의 속도를 올리거나 CPU를 더 작게 하거나인데  
전자의 속도를 올린다는건 말이 안되는 소리니 하드웨어를 작게 만들 수 밖에 없다.  
  
또한, 하드웨어가 작아질 수록 결국 전자의 이동 거리가 줄어들고, 이동 거리가 줄면  
필요한 에너지가 줄어드는 것이기 때문에 저전력, 열감소 효과가 생긴다.  
  
## 디지털을 사용하면 더 안정적인 장치를 만들 수 있다
하드웨어를 작게 만들면 속도와 효율은 좋아지지만, 물체간 간섭이 쉬워진다.  
  
계산자와 계량컵과 같은 아날로그 장치는 정확한 값을 얻으려면 흔들림이 없어야 하지만  
아날로그 장치는 작은 외부의 무언가에도 영향을 쉽게 받는다.  
  
반면에 디지털 장치는 판정 기준이 있기 때문에 외부로 인한 영향을 받아도  
계산 결과에 영향을 받지 않지만, 판정 기준으로 인해 어떤 범위의 값을 표현할 가능성이 사라진다.  
  
## 아날로그 세계에서 디지털 만들기
**전이 함수**  
실제 세계에서 벌어지는 현상을 표현하는 함수로 X축의 입력값을 Y축의 출력값으로 변환한다.  
  
**디지털 카메라 센서의 전이 함수**  
빛이 전이 함수 그래프의의 상단부(포화)나 하단부(차단)에 많이 닿기보단  
직선부에 많이 닿게 만들어야 현실을 잘 반영하는 이미지를 얻을 수 있다.  
  
**게인**  
입력 신호의 증폭 비율
  
**문턱값**  
출력값을 이산적으로 나눌 수 있는 기준이 되는 게인 값  
= 특정 수준 이하의 신호를 무시하거나 조정하는 기준점  
= 소음 제거  
  
## 10진 숫자 대신 비트를 사용하는 이유
1. 컴퓨터는 손가락이 없고, 손가락은 하나의 숫자씩만 표현할 수 밖에 없다.  
2. 전이 함수를 각기 다른 10가지 문턱값으로 구분할 수 있는 간단한 방법이기 때문이다.  
   
# 간단한 전기 이론 가이드
## 전기는 수도 배관과 유사하다
직렬 연결 : 한 쪽의 출력이 다른 쪽의 입력에 연결된 경우  
병렬 연결 : 서로 다른 쪽의 입력을 함께 연결하고, 양쪽의 출력을 같은 곳에 연결하는 경우  
  
전기선 = 내부(도체) + 외부(부도체)  
스위치 : 전기의 흐름을 제어할 수 있는 밸브 역할  
옴의 법칙 : 전류 = 전압 / 저항  
  
## 전기 스위치
스위치를 만드는 일은 도체 사이에 부도체를 삽입하거나 제거하는 간단한 일이다.  
전기 시스템은 회로라고 부르는데 이는 에너지 근원에서 나온 전기가 회로 구성요소를 지나  
다시 근원으로 돌아오기 때문이다.  
  
# 비트를 처리하기 위한 하드웨어
## 릴레이
선을 둥글게 감아 코일로 만든 후 전기를 흘려보내면 코일이 전자석이 되고,  
전자석은 켜고 끌 수 있기 때문에 자기장을 이용해 물건을 움직일 때 사용할 수 있다.  
  
릴레이는 스위치를 움직이기 위해 전자석을 사용하는 장치로  
전기 신호를 이용해 전원을 끄거나 켜는 스위치다.  
  
전류가 흐른다 &rarr; 전자석 작동 &rarr; 스위치 켜짐  
전류가 끊긴다 &rarr; 전자석 꺼짐 &rarr; 스위치 꺼짐  
  
릴레이를 사용해 NOT 함수를 구현하는 인버터를 만들 수 있는데  
AND 회로의 출력을 OR 회로의 입력으로 사용할 수 있는 것처럼  
스위치가 다른 스위치를 제어하게 만들 수 있어 복잡한 논리를 만들 수 있어진다.  
  
추가로 릴레이에서 전이 함수의 문턱값은 수직인데, 이는 코일에 전압을 아무리 천천히 높여도  
스위치는 항상 다른 위치로 순식간에 움직이기 때문이다.  
  
하지만 릴레이는 느리고 전기를 많이 소모할 뿐만 아니라 먼지 같은 것들이  
스위치 접점에 있으면 오작동을 하는 단점 등이 있다.  
  
## 진공관
물체를 충분히 가열하면 전자가 튀어나오는 열전자 방출이라는 현상을 기반으로 만들어짐  
  
삼극관(캐소드, 그리드, 애노드)  
캐소드 = 투수, 그리드 = 타자, 애노드 = 포수  
히터 : 캐소드를 가열하는 역할

히터가 캐소드를 가열해 전자가 튀어나가게 하면 그리드가 방해하지 않는한 애노드에 도달하기 때문에  
투수가 던진 공(전자)이 타자(그리드)가 치지 못해 포수(애노드)에 간다고 이해할 수 있고  
이런 부분에서 그리드를 스위치 손잡이라고 생각할 수 있다.  

장점 : 움직이는 부분이 없어 릴레이보다 빠르다  
단점 : 아주 뜨겁고 깨지기 쉽다  
  
## 트랜지스터
도체와 부도체 사이를 오갈 수 있는 반도체를 사용해 만든 전송 저항이라는 말을 줄인 것이다.  
트랜지스터를 아주 작게 만들면 당연히 좋지만, 도체가 얇고 작아질수록 저항이 늘어나 열이 발생하고  
반도체는 쉽게 녹을 수 있기 때문에 트랜지스터에서 열을 제거하는 일은 중요하다.  
  
트랜지스터는 반도체 물질로 이루어진 기판 또는 슬랩 위에 만들어지고, 보통 실리콘이 기판 재료로    
광식각이라는 트랜지스터 그림을 실리콘 웨이퍼 위에 투영해서 대량 생산하는 작업을 통해 생산된다.  
  
트랜지스터는 쌍극 접합 트랜지스터(BJT)와 전계 효과 트랜지스터(FET) 두 유형이 있고  
제조 공정에서 기판 물질의 성질을 변화시키기 위해 p와 n 유형의 물질으로 이루어진  
영역을 만들어내는 도핑 과정이 들어간다.  
  
게이트와 베이스는 스위치 손잡이 역할이고, 손잡이가 올라가면 전기가 위에서 아래로 흐른다.  
  
쌍극 접합 트랜지스터
- 전기가 한 방향으로만 흐름
  
전계 효과 트랜지스터
- 정전기 효과를 사용해 스위치를 움직인다.
- MOSFET라는 전력 소모가 적어 현대 컴퓨터 칩에서 가장 많이 사용되는 것이 있다.
- N채널과 P채널 MOSFET를 보완하기 위해 한 쌍으로 묶어 사용하는 CMOS가 있다.  
  
## 집적 회로
트랜지스터는 작고, 빠르고, 신뢰할 수 있고, 전력 소모가 적은 좋은 논리 회로지만  
간단한 회로를 만들 때도 부품이 너무 많이 필요하다.  
  
이를 위해 복잡한 시스템을 트랜지스터 하나를 만드는 정도의 비용으로 만들 수 있는  
집적 회로라는 것이 등장했고, 생긴 모양 때문에 칩이라고 부른다.  
  
# 논리 게이트
논리 게이트 : 논리 연산을 수행하는 회로가 미리 들어간 집적 회로(칩)  
(ADN 게이트, OR 게이트, XOR 게이트, 인버터, 버퍼(입력을 출력으로 전달))

게이트를 사용하면 하드웨어 설계자가 처음부터 모든 회로를 설계할 필요 없이  
복잡한 회로를 쉽고 빠르게 만들 수 있게 되었다.  
  
AND와 OR 게이트가 가장 효율적인 게이트는 아니고, 가장 단순한 회로는 NAND와 NOR인데,  
이는 NAND와 NOR은 TTL 혹은 CMOS를 사용하지만, AND와 OR은 NAND와 OR에 트랜지스터를 덧붙여  
출력을 반전시켜야 해서 더 비싸고, 반응 속도도 느리고, 전력도 더 소모된다.  
  
그래서 디지털 회로 설계시 NAND와 OR 게이트가 가장 기본적으로 사용되고,  
NAND와 OR 게이트만 있어도 OR, AND, NOT으로 표현할 수 있는 모든 논리를 표현할 수 있다.  
  
## 이력 현상을 활용한 잡음 내성 현상
현실에서 사용 중인 신호 중에는 천천히 변하는 신호가 많다.  
  
**글리치**  
입력 신호에 잡음이 존재해 입력 신호가 문턱값을 여러 번 오락가락 하는 현상  
  
**이력현상**  
판정 기준이 이력에 따라 달라지는 현상, 이를 이용해 글리치를 방지할 수 있다.  
각 신호에 대해 다른 전이 함수를 사용해 서로 다른 문턱값을 만들 수 있고,  
이는 입력 신호가 다른 문턱값을 지나가며 출력이 반전되려면 값이 상당히 많이 변해야 한다는 것이고  
잡음 내성이 커진다는 말이다.  
  
**슈미트 트리거**  
이력을 사용하는 게이트, 일반적인 게이트보다 복잡하고 비쌈  
  
## 차동 신호
이력을 도입해도 잡음 내성이 충분하지 않은 경우에도 보호를 받고 싶은 경우에 사용한다.  
  
2인조의 경우 본인이 왼쪽에 있으면 0, 오른쪽에 있으면 1일 때,  
둘이 한 쪽으로 밀려나도 본인과 다른 한 명의 상대적인 위치 값은 변하지 않는 것처럼  
측정하는 값이 서로 반전관계인 신호 쌍의 차이를 측정하는 방식이다.  
  
드라이버 : 입력신호를 반전관계 출력으로 변환  
리시버 : 반전관계 입력을 받아 단일 신호로 변환  
  
잡음이 너무 많은 경우에 한계가 있는데, 공통 모드 판별피라는 부품 정격 중 하나로  
처리 가능한 잡음의 양을 넘어서는 경우에는 잡읍을 처리하기 힘들다.  
  
**연선 케이블링**  
한 쌍의 선을 서로 꼬아 전기적으로 연인이 서로 허리에 손을 두르는 것 같은 효과를 만드는 것으로  
두 쌍이 연결이 강해져서 큰 잡음에도 견고하게 유지할 수 있다.  
  
## 전파 지연
입력의 변화가 출력에 영향을 미칠 때까지 걸리는 시간으로  
정확한 측정값이 아닌 제조 과정과 온도에 따라 생기는 편차와  
게이트 출력에 도달하기까지 연결된 구성 부품의 수에 따라 결정되는 통계적 측정값  
  
알고리즘의 시간 복잡도처럼 전파 지연에도 최소/최대 지연이 존재하고  
실제 지연은 둘 사이의 어떤 값인데, 설계자들은 최악의 경우를 가정해 최대 지연도 생각해야 한다.  
  
PLH는 0(Low) &rarr 1(High)에 걸리는 지연 시간이고, PHL은 1 &rarr 0에 걸리는 지연 시간이다.  
  
## 출력 유형
### 토템폴 출력
일반적인 게이트 출력으로 트랜지스터가 세로로 나란히 늘어서 있는 형태다.  
  
